<ion-content>

  <div class="topic-header">
    <ion-navbar>
      <span class="topic-name"><span [hidden]="!topic">Topic: </span>{{cardDeckTitle}}</span><br/>
      <span *ngIf="topic" class="topic-description">{{topic.cards.length}} of {{topic.cards.length + topic.waitingCards.length}} cards in your vocabulary box</span>
      <ion-buttons end>
        <button ion-button icon-only>
          <ion-icon name="funnel"></ion-icon>
        </button>
      </ion-buttons>
    </ion-navbar>

    <ion-navbar>
      <div class="study-buttons">
        <button *ngIf="topic" ion-button round color="light" [disabled]="topic.customTopic" (click)="toggleFavorite()">
          <ion-icon [hidden]="topic.favorite" name="heart-outline"></ion-icon>
          <ion-icon [hidden]="!topic.favorite" name="heart"></ion-icon>
        </button>
        <button ion-button round color="light" [disabled]="true">
          <ion-icon name="play"></ion-icon>
        </button>
        <button *ngIf="topic" ion-button round color="light" [disabled]="true">
          <ion-icon name="cube"></ion-icon>
        </button>
        <button *ngIf="topic" ion-button round color="light" (click)="addCard()" [disabled]="!topic.cards.length + topic.waitingCards.length > 0">
          <ion-icon name="add"></ion-icon>
        </button>
      </div>
    </ion-navbar>
  </div>

  <!-- word list -->
  <ion-grid>
    <ion-row align-items-center justify-content-center>
      <ion-col>
        <ion-list>
          <ion-item-sliding *ngFor="let card of dict| slice:listLowerLimit:listUpperLimit; let i=index">
            <ion-item>
              <ion-label text-wrap class="list-entry-left" (click)="changeCard(card)">
                {{ card.frontSide }}
              </ion-label>
              <ion-label text-wrap class="list-entry-right" (click)="changeCard(card)">
                {{ card.backSide }}
              </ion-label>
              <!--<ion-label item-end>
                <img src={{getProgressImage(card.level)}} alt="Level {{card.level}}" height="42" width="42">
              </ion-label>-->
            </ion-item>
            <ion-item-options *ngIf="mode=='topic'" side="right" icon-left>
              <button ion-button color="danger" (click)="deleteCard(card)">
                <ion-icon name="trash"></ion-icon>
              </button>
            </ion-item-options>
          </ion-item-sliding>
        </ion-list>
      </ion-col>
    </ion-row>
  </ion-grid>

</ion-content>

<ion-footer>
  <ion-toolbar>
    <ion-grid>
      <ion-row>
        <ion-col col-sm-1 text-center>
          <ion-buttons>
            <button ion-button icon-only (click)="showPrevList()" [disabled]="listLowerLimit == 0">
              <ion-icon name="arrow-back"></ion-icon>
            </button>
          </ion-buttons>
        </ion-col>
        <ion-col>
          <ion-label *ngIf="dict.length > 0" text-center color="light">
            {{ listLowerLimit + 1 }} - {{ listUpperLimit }} of {{ dict.length }} words
          </ion-label>
          <ion-label *ngIf="!(dict.length > 0)" text-center color="light">
            {{ listLowerLimit }} - {{ listUpperLimit }} of {{ dict.length }} words
          </ion-label>
        </ion-col>
        <ion-col col-sm-1 text-center>
          <ion-buttons>
            <button ion-button icon-only (click)="showNextList()" [disabled]="listUpperLimit >= dict.length">
              <ion-icon name="arrow-forward"></ion-icon>
            </button>
          </ion-buttons>
        </ion-col>
      </ion-row>
    </ion-grid>
  </ion-toolbar>
</ion-footer>
